!function(e,t,i){function n(e,i){var n,s=t.createElement(e||"div");for(n in i)s[n]=i[n];return s}function s(e){for(var t=1,i=arguments.length;i>t;t++)e.appendChild(arguments[t]);return e}function r(e,t,i,n){var s=["opacity",t,~~(100*e),i,n].join("-"),r=.01+100*(i/n),o=Math.max(1-(1-e)/t*(100-r),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[s]||(p.insertRule("@"+l+"keyframes "+s+"{"+"0%{opacity:"+o+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}"+"100%{opacity:"+o+"}"+"}",p.cssRules.length),d[s]=1),s}function o(e,t){var n,s,r=e.style;if(r[t]!==i)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),s=0;h.length>s;s++)if(n=h[s]+t,r[n]!==i)return n}function a(e,t){for(var i in t)e.style[o(e,i)||i]=t[i];return e}function l(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var s in n)e[s]===i&&(e[s]=n[s])}return e}function u(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}/**
   * Copyright (c) 2011 Felix Gnass [fgnass at neteye dot de]
   * Licensed under the MIT license
   */
var c,h=["webkit","Moz","ms","O"],d={},p=function(){var e=n("style",{type:"text/css"});return s(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},m=function m(e){return this.spin?(this.opts=l(e||{},m.defaults,f),void 0):new m(e)};m.defaults={},l(m.prototype,{spin:function(e){this.stop();var t,i,s=this,r=s.opts,o=s.el=a(n(0,{className:r.className}),{position:r.position,width:0,zIndex:r.zIndex}),l=r.radius+r.length+r.width;if(e&&(e.insertBefore(o,e.firstChild||null),i=u(e),t=u(o),a(o,{left:("auto"==r.left?i.x-t.x+(e.offsetWidth>>1):parseInt(r.left,10)+l)+"px",top:("auto"==r.top?i.y-t.y+(e.offsetHeight>>1):parseInt(r.top,10)+l)+"px"})),o.setAttribute("aria-role","progressbar"),s.lines(o,s.opts),!c){var h=0,d=r.fps,p=d/r.speed,f=(1-r.opacity)/(p*r.trail/100),m=p/r.lines;(function g(){h++;for(var e=r.lines;e;e--){var t=Math.max(1-(h+e*m)%p*f,r.opacity);s.opacity(o,r.lines-e,t,r)}s.timeout=s.el&&setTimeout(g,~~(1e3/d))})()}return s},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=i),this},lines:function(e,t){function i(e,i){return a(n(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*l+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}for(var o,l=0;t.lines>l;l++)o=a(n(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:c&&r(t.opacity,t.trail,l,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&s(o,a(i("#000","0 0 4px #000"),{top:"2px"})),s(e,s(o,i(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,i){e.childNodes.length>t&&(e.childNodes[t].style.opacity=i)}}),function(){function e(e,t){return n("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=a(n("group"),{behavior:"url(#default#VML)"});!o(t,"transform")&&t.adj?(p.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(t,i){function n(){return a(e("group",{coordsize:u+" "+u,coordorigin:-l+" "+-l}),{width:u,height:u})}function r(t,r,o){s(h,s(a(n(),{rotation:360/i.lines*t+"deg",left:~~r}),s(a(e("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:o}),e("fill",{color:i.color,opacity:i.opacity}),e("stroke",{opacity:0}))))}var o,l=i.length+i.width,u=2*l,c=2*-(i.width+i.length)+"px",h=a(n(),{position:"absolute",top:c,left:c});if(i.shadow)for(o=1;i.lines>=o;o++)r(o,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(o=1;i.lines>=o;o++)r(o);return s(t,h)},m.prototype.opacity=function(e,t,i,n){var s=e.firstChild;n=n.shadow&&n.lines||0,s&&s.childNodes.length>t+n&&(s=s.childNodes[t+n],s=s&&s.firstChild,s=s&&s.firstChild,s&&(s.opacity=i))}):c=o(t,"animation")}(),"function"==typeof define&&define.amd?define(function(){return m}):e.Spinner=m}(window,document);